<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
<title>MGS4 Quiz – Metal Gear Solid 4</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap');

html, body {
    margin:0; 
    padding:0; 
    font-family:'Orbitron', sans-serif; 
    background: url("background.jpg") no-repeat center center fixed; 
    background-size: cover; 
    color: gold; 
    text-align:center; 
    overflow-x:hidden;
}

#overlay {
    background: rgba(0,0,0,0.85); 
    min-height:100vh; 
    padding:20px; 
    box-sizing:border-box;
}

h1 { 
    font-size:36px; 
    text-shadow: 0 0 15px gold,0 0 30px black; 
    margin-bottom:20px; 
}

#timer { 
    font-size:22px; 
    margin-top:10px; 
}

.question { 
    font-size:24px; 
    margin:20px 0 10px 0; 
}

input[type=text]{ 
    padding:8px; 
    font-size:16px; 
    width:200px; 
}

/* Buttons Style für Quiz, Nächste Frage, Schwierigkeitsgrad, Highscore */
.answers button,
#nextButton,
#difficultySelection button,
#scoreBoard button {
    background: black;
    border: 2px solid gold;
    color: gold;
    padding: 12px 24px;
    margin: 10px auto;
    cursor: pointer;
    font-size: 16px;
    width: 60%;
    max-width: 300px;
    display: block;
    transition: all 0.2s ease;
    border-radius: 6px;
}

.answers button:hover,
#nextButton:hover,
#difficultySelection button:hover,
#scoreBoard button:hover {
    background: gold;
    color: black;
    transform: scale(1.05);
}

/* Korrekte/Falsche Antwort Animation */
@keyframes blinkGreen { 0%,100%{background-color:green;} 50%{background-color:white;} }
@keyframes blinkRed { 0%,100%{background-color:red;} 50%{background-color:white;} }

button.correct { 
    animation: blinkGreen 0.6s ease 1; 
    color: white; 
    border-color: green;
}

button.wrong { 
    animation: blinkRed 0.6s ease 1; 
    color: white; 
    border-color: red;
}

/* Copyright Footer */
#copyright {
    margin-top: 30px;
    font-size: 12px;
    color: #ccc;
}
</style>
</head>
<body>
<div id="overlay">
<h1>MGS4: Guns of the Patriots – Quiz</h1>

<div id="difficultySelection">
    <p>Wähle Schwierigkeitsgrad:</p>
    
    <button onclick="startQuiz('easy')">Easy</button>
    <button onclick="startQuiz('medium')">Medium</button>
    <button onclick="startQuiz('hard')">Hard</button>

    <br><br>

    <button onclick="window.location.href='index.html'">
        ⬅ Zurück zur Startseite
    </button>
</div>

<div id="quizContainer" style="display:none;">
    <div id="timer">⏱ 30s</div>
    <div id="questionContainer"></div>
    <div class="answers" id="answersContainer"></div>
    <button id="nextButton" onclick="nextQuestion()">▶ Nächste Frage</button>
</div>

<div id="scoreBoard">
    <h2>Quiz beendet!</h2>
    <p>Deine Punktzahl: <span id="finalScore"></span></p>
    <p>Trage deinen Namen ein:</p>
    <input type="text" id="playerName" placeholder="Dein Name">
    <button onclick="saveScoreLocal()">✔ Speichern</button>
    <h3>Highscore-Liste</h3>
    <ul id="leaderBoard"></ul>
    <br>
    <button onclick="goBack()">← Zurück zur Hauptseite</button>
    <br><br>
    <button onclick="restartQuiz()">↺ Neuer Versuch</button>
</div>

<audio id="bgMusic" loop autoplay>
    <source src="music.mp3" type="audio/mpeg">
</audio>

<div id="copyright">
    &copy; 2026 Fanprojekt – Metal Gear Solid Inhalte & Musik gehören Konami.
</div>
</div>

<script>
// Musik
const audio = document.getElementById("bgMusic"); 
audio.volume=0.3;
document.addEventListener("click", ()=>{ audio.play().catch(()=>{}); }, {once:true});

// Fragenpool – 100 echte MGS4 Fragen
const questionPool = [
{q:"Wie lautet Snakes Deckname in MGS4?", a:["Old Snake","Solid Snake","Liquid Snake","Naked Snake"], correct:0, difficulty:"easy"},
{q:"In welcher Stadt beginnt MGS4?", a:["New York","Washington D.C.","Paris","London"], correct:1, difficulty:"easy"},
{q:"Was sind ‚The Patriots‘?", a:["Geheime Organisation","Militärbasis","Nanomaschinen","Kampfroboter"], correct:0, difficulty:"medium"},
{q:"Was ist Snakes medizinisches Problem?", a:["Beschleunigtes Altern","Amnesie","Blindheit","Allergie"], correct:0, difficulty:"medium"},
{q:"Welchen Spitznamen trägt Liquid Ocelot?", a:["Liquid Ocelot","Revolver Ocelot","Solidus","Ocelot"], correct:1, difficulty:"easy"},
{q:"Welches System kontrolliert die Militärwelt in MGS4?", a:["SOP","Gekko","FOXHOUND","Dead Cell"], correct:0, difficulty:"easy"},
{q:"Was steht ‚SOP‘ für?", a:["Sons of Patriots","Solidus Operation","Snake of Patriots","System of Patriots"], correct:0, difficulty:"medium"},
{q:"Wer hilft Snake technologisch?", a:["Otacon","Campbell","Meryl","Eva"], correct:0, difficulty:"easy"},
{q:"Welche Figur ist Vamp?", a:["Kämpfer mit Heilfähigkeiten","Nanotechnologie‑Techniker","Codec‑Operator","Patriot‑KI"], correct:0, difficulty:"medium"},
{q:"Welche Organisation jagt Snake in Europa?", a:["Dead Cell","FOXHOUND","MSF","Diamond Dogs"], correct:0, difficulty:"medium"},
{q:"Was trägt Snake in MGS4 ständig bei sich?", a:["Stealth Camo","Jetpack","Flammenwerfer","Schwert"], correct:0, difficulty:"easy"},
{q:"Wo findet der Showdown im Spiel statt?", a:["Outer Haven","Big Shell","Shadow Moses","Mother Base"], correct:0, difficulty:"hard"},
{q:"Wer ist der Anführer von Dead Cell?", a:["Liquid Ocelot","Sniper Wolf","Psycho Mantis","Big Boss"], correct:0, difficulty:"hard"},
{q:"Was ist ein ‚Gekko‘?", a:["Kampfroboter","Nanowaffe","Patriot‑KI","Kampfsuit"], correct:0, difficulty:"medium"},
{q:"Welches Jahr ist in der Story verankert?", a:["2014","2008","2010","2012"], correct:0, difficulty:"easy"},
{q:"Welche Waffe verwendet Snake häufig?", a:["SOCOM","FAMAS","AK‑47","M16"], correct:0, difficulty:"easy"},
{q:"Wer ist Laughing Octopus?", a:["Dead Cell Mitglied","FOXHOUND Soldat","Patriot‑Agent","Otacon"], correct:0, difficulty:"hard"},
{q:"Wie viele Kapitel hat MGS4?", a:["9","6","12","4"], correct:0, difficulty:"medium"},
{q:"Wer ist Snakes Freund und Verbündeter?", a:["Otacon","Liquid","Raiden","Eva"], correct:0, difficulty:"easy"},
{q:"Welche Figur besitzt Tentakel‑Fähigkeiten?", a:["Laughing Octopus","Psycho Mantis","Sniper Wolf","Raiden"], correct:0, difficulty:"hard"},
{q:"Was ist Snakes Codec‑Partner in MGS4?", a:["Otacon","Campbell","Meryl","Raiden"], correct:0, difficulty:"easy"},
{q:"Welche Figur nutzt Nanomaschinen?", a:["Snake","Otacon","Meryl","Campbell"], correct:0, difficulty:"medium"},
{q:"Welche Region besucht Snake NICHT?", a:["Afrika","Antarktis","Europa","Asien"], correct:1, difficulty:"hard"},
{q:"Welche Organisation hat die Kontrolle über SOP?", a:["The Patriots","DH","FOXHOUND","MSF"], correct:0, difficulty:"medium"},
{q:"Warum altert Snake schneller?", a:["Genetische Kondition","Nanomaschinen","Virus","Kodex"], correct:0, difficulty:"medium"},
{q:"Wer ist Solidus Snake?", a:["Ex‑US Präsident & Klon","Agent","Techniker","Nanomaschinen‑Forscher"], correct:0, difficulty:"hard"},
{q:"Wie heißt Snakes Adoptivtochter?", a:["Sunny","Naomi","Svetlana","Eva"], correct:0, difficulty:"easy"},
{q:"Welche Figur ist Psycho Mantis in MGS4?", a:["Gehirnleser","Schütze","Cyborg","Nanomaschinen‑Operator"], correct:0, difficulty:"medium"},
{q:"Was ist Outer Haven?", a:["Patriots Flotte","Militärbasis","Stealth Suit","Codec System"], correct:0, difficulty:"hard"},
{q:"Wer trainiert Snake in taktischen Einsätzen?", a:["Roy Campbell","Otacon","Meryl","Liquid"], correct:0, difficulty:"easy"},
{q:"Welche Figur stirbt im Spiel?", a:["Big Boss","Snake","Ocelot","Otacon"], correct:0, difficulty:"medium"},
{q:"Mit welcher Waffe zerstört Snake Gekko‑Einheiten?", a:["SOCOM","Sniper","RPG","Laser"], correct:2, difficulty:"medium"},
{q:"Welche Figur nutzt Tarnfeld‑Technologie?", a:["Snake","Raiden","Liquid","Meryl"], correct:0, difficulty:"easy"},
{q:"Wie heißt der Hauptkommandant von Dead Cell?", a:["Liquid Ocelot","Laughing Octopus","Raging Raven","Psycho Mantis"], correct:0, difficulty:"hard"},
{q:"Was steht ‚MSF‘ für?", a:["Militaires Sans Frontières","Military Special Force","Mother Base Team","Metal Gear Squad"], correct:0, difficulty:"medium"},
{q:"Welche Figur hat einen Scherenarm?", a:["Raging Raven","Laughing Octopus","Psycho Mantis","Snake"], correct:0, difficulty:"hard"},
{q:"In welcher Stadt findet keiner der Hauptkämpfe statt?", a:["Paris","London","Venedig","New York"], correct:2, difficulty:"medium"},
{q:"Wer ist Snakes Unterstützer im Nahkampf?", a:["Meryl","Otacon","Campbell","Raiden"], correct:0, difficulty:"easy"},
{q:"Welche Figur nutzt Emotionsmanipulation?", a:["Psycho Mantis","Laughing Octopus","Otacon","Snake"], correct:0, difficulty:"hard"},
{q:"Welche Figur ist Blade Wolf?", a:["Cyborg Ninja Gegner","Freund","Techniker","Drone"], correct:0, difficulty:"hard"},
{q:"Wer war früher Teil von FOXHOUND?", a:["Revolver Ocelot","Raiden","Otacon","Meryl"], correct:0, difficulty:"medium"},
{q:"Welche Figur besitzt Schnelligkeit und Sprungfähigkeiten?", a:["Blade Wolf","Snake","Otacon","Liquid"], correct:0, difficulty:"hard"},
{q:"Wo befindet sich Snakes Basis in Afrika?", a:["Wüste","Stadt","Wald","Berg"], correct:0, difficulty:"medium"},
{q:"Was ist ein ‚Gekko‘ primär?", a:["Patriot‑Roboter","Codec Gerät","Nanomaschine","Fahrzeug"], correct:0, difficulty:"medium"},
{q:"Warum nutzt Snake Nanomaschinen?", a:["Kampfverbesserung","Arztbefehl","Zwang","Technik"], correct:0, difficulty:"easy"},
{q:"Welche Figur hat psychische Kräfte?", a:["Psycho Mantis","Otacon","Snake","Campbell"], correct:0, difficulty:"medium"},
{q:"Welche Figur kämpft im Paris‑Abschnitt?", a:["Sniper Wolf","Snake","Liquid","Otacon"], correct:0, difficulty:"medium"},
{q:"Wer ist Naomi Hunter in MGS4?", a:["Wissenschaftlerin","Soldatin","Journalistin","Technikerin"], correct:0, difficulty:"medium"},
{q:"Welche Figur kämpft mit Tentakeln?", a:["Laughing Octopus","Psycho Mantis","Snake","Liquid"], correct:0, difficulty:"hard"},
{q:"Welche Figur arbeitet für Dead Cell?", a:["Raging Raven","Otacon","Campbell","Meryl"], correct:0, difficulty:"medium"},
{q:"Was passiert, wenn Snake keine Nanomaschinen mehr hat?", a:["Schneller Tod","Unbesiegbarkeit","Teleportation","Unverwundbarkeit"], correct:0, difficulty:"medium"},
{q:"Wie viele Kapitel hat MGS4?", a:["9","10","13","7"], correct:0, difficulty:"medium"},
{q:"Was ist ‚Outer Haven‘ am Ende des Spiels?", a:["Patriot‑Schiff","Militärbasis","Versteck","Wüste"], correct:0, difficulty:"hard"},
{q:"Welche Figur ist Revolver Ocelot in MGS4?", a:["Verbündeter & Antagonist","Nur Gegner","Nur Verbündeter","Nanomaschinen‑Forscher"], correct:0, difficulty:"medium"},
{q:"Wer ist Big Boss am Ende?", a:["Snakes Vater & Mentor","Gegner","Nanomaschinen‑Test","Otacon"], correct:0, difficulty:"hard"},
{q:"Welche Figur tritt als Unterstützer im Nahkampf auf?", a:["Meryl","Revolver Ocelot","Liquid","Vamp"], correct:0, difficulty:"medium"},
{q:"Welche Figur hat Tarnkappenfähigkeiten?", a:["Laughing Octopus","Blade Wolf","Otacon","Raiden"], correct:0, difficulty:"medium"},
{q:"Wer nutzt Scharfschützenfähigkeiten?", a:["Sniper Wolf","Snake","Liquid","Otacon"], correct:1, difficulty:"easy"},
{q:"Welche Figur ist nanotechnologisch verstärkt?", a:["Snake","Raiden","Vamp","Campbell"], correct:0, difficulty:"medium"},
{q:"Wer hilft Snake im Nahkampftechnik‑Abschnitt?", a:["Otacon","Meryl","Campbell","Raiden"], correct:1, difficulty:"medium"},
{q:"Welche Figur war früher ein Geheimagent?", a:["Otacon","Liquid","Raiden","Snake"], correct:1, difficulty:"medium"},
{q:"Wer verursacht die meisten Nanomaschinen‑Ausfälle?", a:["Liquid Ocelot","Snake","Otacon","Campbell"], correct:0, difficulty:"hard"},
{q:"Welche Figur kämpft mit einem Jetpack?", a:["Blade Wolf","Snake","Raiden","Liquid"], correct:0, difficulty:"hard"},
{q:"Welche Figur ist in Venedig?", a:["Snake","Otacon","Liquid","Raiden"], correct:0, difficulty:"medium"},
{q:"Welche Figur nutzt Nanomachinen zur Heilung?", a:["Snake","Liquid","Vamp","Otacon"], correct:0, difficulty:"medium"},
{q:"Welche Figur tritt in Amerika auf?", a:["Snake","Raiden","Otacon","Meryl"], correct:0, difficulty:"easy"},
{q:"Wer ist Snakes Codec Partner?", a:["Otacon","Campbell","Meryl","Raiden"], correct:0, difficulty:"easy"},
{q:"Wer nutzt Nanomaschinen für Heilung?", a:["Snake","Liquid","Vamp","Otacon"], correct:0, difficulty:"medium"},
{q:"Wer kämpft in Venedig?", a:["Snake","Otacon","Raiden","Liquid"], correct:0, difficulty:"medium"},
{q:"Wer ist Psycho Mantis?", a:["Gedankenleser","Soldat","Techniker","Nanomaschinen-Operator"], correct:0, difficulty:"medium"}
];

let questions = [], currentQuestion=0, score=0, timeLeft=30, timer, difficulty="easy";
const questionContainer=document.getElementById("questionContainer");
const answersContainer=document.getElementById("answersContainer");
const nextButton=document.getElementById("nextButton");
const quizContainer=document.getElementById("quizContainer");
const scoreBoard=document.getElementById("scoreBoard");
const timerDisplay=document.getElementById("timer");

// Quiz starten
function startQuiz(level){
    difficulty=level;
    document.getElementById("difficultySelection").style.display="none";
    quizContainer.style.display="block";
    score=0; currentQuestion=0;
    questions=shuffleArray(questionPool.filter(q=>q.difficulty===difficulty)).slice(0,20);
    showQuestion();
}

// Timer
function startTimer(){
    clearInterval(timer);
    timeLeft=30;
    timerDisplay.textContent=`⏱ ${timeLeft}s`;
    timer=setInterval(()=>{
        timeLeft--;
        timerDisplay.textContent=`⏱ ${timeLeft}s`;
        if(timeLeft<=0){ clearInterval(timer); markTimeOut(); }
    },1000);
}

function markTimeOut(){
    const buttons = answersContainer.querySelectorAll("button");
    buttons.forEach(btn=>btn.disabled=true);
    buttons.forEach(btn=>{ if(btn.dataset.correct==="true") btn.classList.add("correct"); });
    nextButton.style.display="inline-block";
}

// Frage anzeigen
function showQuestion(){
    startTimer();
    const q=questions[currentQuestion];
    questionContainer.innerHTML=`<div class="question">${q.q}</div>`;
    answersContainer.innerHTML="";
    const answers=q.a.map((text,index)=>({text:index===q.correct?text:text, correct:index===q.correct}));
    const shuffledAnswers=shuffleArray(answers);
    shuffledAnswers.forEach(ansObj=>{
        const btn=document.createElement("button");
        btn.textContent=ansObj.text;
        btn.dataset.correct=ansObj.correct;
        btn.onclick=()=>checkAnswer(btn, ansObj.correct);
        answersContainer.appendChild(btn);
    });
    nextButton.style.display="none";
}

// Antwort prüfen
function checkAnswer(button,isCorrect){
    clearInterval(timer);
    const buttons = answersContainer.querySelectorAll("button");
    if(isCorrect){ button.classList.add("correct"); score += 1000; }
    else{ button.classList.add("wrong"); buttons.forEach(b=>{if(b.dataset.correct==="true") b.classList.add("correct");}); }
    buttons.forEach(b=>b.disabled=true);
    nextButton.style.display="inline-block";
}

// Nächste Frage
function nextQuestion(){
    currentQuestion++;
    if(currentQuestion<questions.length){ showQuestion(); }
    else{ endQuiz(); }
}

// Quiz beenden
function endQuiz(){
    quizContainer.style.display="none";
    scoreBoard.style.display="block";
    document.getElementById("finalScore").textContent=score;
    loadLocalLeaderboard();
}

// Highscore lokal speichern
function saveScoreLocal(){
    const name=document.getElementById("playerName").value||"Unbekannt";
    let scores = JSON.parse(localStorage.getItem("mgs4Highscores") || "[]");
    scores.push({name:name, score:score});
    scores.sort((a,b)=>b.score-a.score);
    localStorage.setItem("mgs4Highscores", JSON.stringify(scores));
    loadLocalLeaderboard();
}

// Highscore laden
function loadLocalLeaderboard(){
    let scores = JSON.parse(localStorage.getItem("mgs4Highscores") || "[]");
    const list=document.getElementById("leaderBoard");
    list.innerHTML="";
    scores.slice(0,10).forEach(s=>{
        const li=document.createElement("li");
        li.textContent=`${s.name}: ${s.score} Punkte`;
        list.appendChild(li);
    });
}

// Zurück zur Index
function goBack(){ window.location.href="index.html"; }

// Neustart Button → Schwierigkeitsauswahl
function restartQuiz(){
    scoreBoard.style.display="none";
    document.getElementById("difficultySelection").style.display="block";
    currentQuestion = 0;
    score = 0;
}

// Array mischen
function shuffleArray(array){
    for(let i=array.length-1;i>0;i--){
        const j=Math.floor(Math.random()*(i+1));
        [array[i],array[j]]=[array[j],array[i]];
    }
    return array;
}
</script>
</body>
</html>
